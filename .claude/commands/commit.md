# Claude コマンド: Commit

このコマンドは、従来型コミットメッセージで適切にフォーマットされたコミットの作成をサポートします。

## 使用方法

変更内容を `git diff` で確認した後、コミットを作成するには：
```
/commit
```

## このコマンドの機能

1. `git status` でステージされたファイルを確認
2. ステージされたファイルが0個の場合、自動的に `git add` で変更されたファイルと新しいファイルを全て追加
3. Conventional Commits形式でコミットメッセージを作成してコミット実行

## Conventional Commits 仕様について

このコマンドは[Conventional Commits v1.0.0](https://www.conventionalcommits.org/ja/v1.0.0/)仕様に準拠しています。

**仕様の要点**：
- **構文**: `<type>[optional scope]: <description>` + オプションの本文とフッター
- **必須type**: `feat`（新機能）、`fix`（バグ修正）
- **推奨type**: `build`, `ci`, `docs`, `perf`, `refactor`, `style`, `test`, `chore`
- **破壊的変更**: '!'' マークまたは `BREAKING CHANGE:` フッター
- **自動化**: Semantic Versioningの自動化とChangelog生成に対応

## コミットのベストプラクティス

- **コミット前の確認**: コードがリントされ、正しくビルドされ、ドキュメントが更新されていることを確認
- **アトミックコミット**: 各コミットは単一の目的に関連する変更のみを含むべき
- **大きな変更の分割**: 変更が複数の関心事に触れる場合は、別々のコミットに分割
- **従来型コミット形式**: `<type>[optional scope]: <description>` の形式を使用。必須のtypeは以下のいずれか：
  - `feat`: 新機能追加（アプリケーションの新しい機能）
  - `fix`: バグ修正（アプリケーションのバグパッチ）

**任意のtype（推奨）**：
  - `build`: ビルドシステムや外部依存関係に関する変更
  - `ci`: CI設定ファイルやスクリプトの変更
  - `docs`: ドキュメントのみの変更
  - `perf`: パフォーマンス向上のコード変更
  - `refactor`: バグ修正や機能追加以外のコード変更
  - `style`: コードの意味に影響しない変更（空白、フォーマット、セミコロンの欠落など）
  - `test`: テストの追加や既存テストの修正
  - `chore`: その他の変更（ビルドプロセス、補助ツールなど）
- **破壊的変更**: 破壊的変更を含む場合は '!' をtypeの後に付ける（例：`feat!: APIの変更`）またはフッターで `BREAKING CHANGE:` を使用
- **スコープ**: 任意で変更の範囲を指定（例：`feat(auth): ログイン機能追加`）
- **現在時制、命令法**: コミットメッセージはコマンドのように記述（例：「機能を追加」、「機能を追加した」ではなく）
- **簡潔な最初の行**: 最初の行は72文字以下に保つ
- **フッター**: 関連するissue参照や破壊的変更の詳細を記述（例：`Fixes #123`, `BREAKING CHANGE: APIが変更されました`）


## 例

**Conventional Commits仕様に準拠した例**：

**基本的な例**：
- `feat: ユーザー認証システムを追加`
- `fix: メモリリークの修正`
- `docs: APIドキュメントを更新`
- `refactor: エラーハンドリングを簡素化`
- `test: ユニットテストを追加`
- `chore: 依存関係を更新`

**スコープ付きの例**：
- `feat(auth): ログイン機能を追加`
- `fix(ui): ボタンの表示不具合を修正`
- `docs(api): エンドポイント仕様を更新`

**破壊的変更の例**：
- `feat!: APIのレスポンス形式を変更`
- `fix!: 設定ファイルの構造を変更`

**フッター付きの例**：
```
feat(user): プロフィール編集機能を追加

ユーザーが自分のプロフィール情報を編集できるようになりました。

Closes #123
```

```
fix!: データベース接続設定を変更

BREAKING CHANGE: 環境変数DB_URLの形式が変更されました。
詳細は移行ガイドを参照してください。

Fixes #456
```

## 使用の流れ

1. **事前確認**: `git diff` で変更内容を確認
2. **コミット実行**: `/commit` コマンドを実行
3. **自動処理**: 必要に応じてファイルをステージし、適切なコミットメッセージでコミット
